# WEB TÃŒM TRá»Œ CHO SINH VIÃŠN

Há»‡ thá»‘ng tÃ¬m kiáº¿m vÃ  quáº£n lÃ½ phÃ²ng trá» dÃ nh cho sinh viÃªn vá»›i 3 vai trÃ²: Admin, NgÆ°á»i cho thuÃª, NgÆ°á»i thuÃª.

## ğŸ“‹ TÃ­nh nÄƒng

### âœ… Chá»©c nÄƒng Ä‘Ã£ hoÃ n thÃ nh

#### ğŸ” XÃ¡c thá»±c & PhÃ¢n quyá»n
- âœ“ ÄÄƒng kÃ½ tÃ i khoáº£n (NgÆ°á»i cho thuÃª, NgÆ°á»i thuÃª, Admin)
- âœ“ ÄÄƒng nháº­p vá»›i session management
- âœ“ PhÃ¢n quyá»n 3 vai trÃ²: Admin, Landlord (Chá»§ trá»), Tenant (NgÆ°á»i thuÃª)
- âœ“ Auto-login sau khi Ä‘Äƒng kÃ½ thÃ nh cÃ´ng
- âœ“ ÄÄƒng xuáº¥t an toÃ n

#### ğŸ“ Quáº£n lÃ½ bÃ i Ä‘Äƒng (Posts)
- âœ“ Táº¡o bÃ i Ä‘Äƒng cho thuÃª vá»›i mÃ´ táº£ chi tiáº¿t
- âœ“ Upload nhiá»u hÃ¬nh áº£nh cho má»™t bÃ i Ä‘Äƒng (async upload)
- âœ“ Cáº­p nháº­t (edit) bÃ i Ä‘Äƒng Ä‘Ã£ táº¡o
- âœ“ XÃ³a bÃ i Ä‘Äƒng (chá»‰ chá»§ sá»Ÿ há»¯u)
- âœ“ Xem danh sÃ¡ch bÃ i Ä‘Äƒng cá»§a cÃ¡ nhÃ¢n (My Posts)
- âœ“ Xem chi tiáº¿t bÃ i Ä‘Äƒng vá»›i full thÃ´ng tin

#### ğŸ–¼ï¸ Xá»­ lÃ½ áº£nh
- âœ“ Upload áº£nh Ä‘Æ¡n láº«n multiple (drag-drop, click to upload)
- âœ“ Preview áº£nh trÆ°á»›c khi upload
- âœ“ XÃ³a áº£nh khá»i bÃ i Ä‘Äƒng
- âœ“ LÆ°u trá»¯ tá»‡p áº£nh trong thÆ° má»¥c uploads
- âœ“ Hiá»ƒn thá»‹ áº£nh theo thá»© tá»± trong chi tiáº¿t bÃ i Ä‘Äƒng

#### â­ BÃ¬nh luáº­n & Pháº£n há»“i (Comments)
- âœ“ BÃ¬nh luáº­n trÃªn bÃ i Ä‘Äƒng
- âœ“ Há»‡ thá»‘ng pháº£n há»“i lá»“ng nhau (nested replies) - khÃ´ng giá»›i háº¡n Ä‘á»™ sÃ¢u
- âœ“ Báº¥t ká»³ ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p Ä‘á»u cÃ³ thá»ƒ pháº£n há»“i bÃ¬nh luáº­n khÃ¡c
- âœ“ Hiá»ƒn thá»‹ thÃ´ng tin tÃ¡c giáº£ bÃ¬nh luáº­n (avatar, tÃªn, vai trÃ²)
- âœ“ XÃ³a bÃ¬nh luáº­n (chá»‰ tÃ¡c giáº£)
- âœ“ Xem thá»i gian bÃ¬nh luáº­n
- âœ“ Responsive nested UI vá»›i indentation rÃµ rÃ ng

#### ğŸ‘ BÃ¬nh chá»n bÃ¬nh luáº­n (Comment Voting)
- âœ“ Upvote/Downvote bÃ¬nh luáº­n
- âœ“ Theo dÃµi lá»‹ch sá»­ bÃ¬nh chá»n cá»§a tá»«ng ngÆ°á»i dÃ¹ng
- âœ“ Hiá»ƒn thá»‹ tá»•ng sá»‘ upvote/downvote
- âœ“ Highlight tráº¡ng thÃ¡i bÃ¬nh chá»n hiá»‡n táº¡i cá»§a user
- âœ“ LÆ°u trá»¯ bÃ¬nh chá»n trong database

#### â¤ï¸ Danh sÃ¡ch yÃªu thÃ­ch (Favorites)
- âœ“ ThÃªm/xÃ³a bÃ i Ä‘Äƒng vÃ o yÃªu thÃ­ch
- âœ“ Xem danh sÃ¡ch táº¥t cáº£ bÃ i yÃªu thÃ­ch
- âœ“ Hiá»ƒn thá»‹ icon/status yÃªu thÃ­ch trÃªn listing posts

#### ğŸ‘¤ Quáº£n lÃ½ há»“ sÆ¡ (Profile)
- âœ“ Xem thÃ´ng tin cÃ¡ nhÃ¢n
- âœ“ Cáº­p nháº­t thÃ´ng tin há»“ sÆ¡ (tÃªn, email, sá»‘ Ä‘iá»‡n thoáº¡i, Ä‘á»‹a chá»‰, mÃ´ táº£)
- âœ“ Quáº£n lÃ½ chi tiáº¿t tÃ i khoáº£n

#### ğŸ”” ThÃ´ng bÃ¡o (Notifications)
- âœ“ Há»‡ thá»‘ng thÃ´ng bÃ¡o cho ngÆ°á»i dÃ¹ng
- âœ“ Xem danh sÃ¡ch thÃ´ng bÃ¡o
- âœ“ ÄÃ¡nh dáº¥u thÃ´ng bÃ¡o lÃ  Ä‘Ã£ Ä‘á»c

#### ğŸ“Š Dashboard Admin
- âœ“ Xem tá»•ng sá»‘ bÃ i Ä‘Äƒng, ngÆ°á»i dÃ¹ng
- âœ“ Quáº£n lÃ½ danh sÃ¡ch bÃ i Ä‘Äƒng (view, delete spam posts)
- âœ“ Quáº£n lÃ½ danh sÃ¡ch ngÆ°á»i dÃ¹ng
- âœ“ Xem bÃ¡o cÃ¡o/reports tá»« ngÆ°á»i dÃ¹ng

### ğŸš€ Chá»©c nÄƒng Ä‘ang phÃ¡t triá»ƒn

#### ğŸ’¬ Chat/Messaging
- â³ Há»‡ thá»‘ng nháº¯n tin giá»¯a ngÆ°á»i cho thuÃª vÃ  ngÆ°á»i thuÃª
- â³ Danh sÃ¡ch há»™i thoáº¡i
- â³ Chat realtime

#### ğŸ“Œ TÃ¬m kiáº¿m & Lá»c
- â³ TÃ¬m kiáº¿m bÃ i Ä‘Äƒng theo tá»« khÃ³a
- â³ Lá»c theo Ä‘á»‹a Ä‘iá»ƒm, giÃ¡, loáº¡i phÃ²ng
- â³ Sáº¯p xáº¿p káº¿t quáº£

#### ğŸ“ ÄÃ¡nh giÃ¡ (Reviews)
- â³ NgÆ°á»i thuÃª Ä‘Ã¡nh giÃ¡ phÃ²ng trá»
- â³ Hiá»ƒn thá»‹ rating tá»•ng há»£p
- â³ Lá»‹ch sá»­ Ä‘Ã¡nh giÃ¡

### ğŸ—‘ï¸ Chá»©c nÄƒng Ä‘Ã£ xÃ³a (Not Implemented)
- âŒ TÃ­ch há»£p thanh toÃ¡n online
- âŒ XÃ¡c thá»±c email
- âŒ TÃ¬m kiáº¿m advanced
- âŒ QR code cho bÃ i Ä‘Äƒng

## ğŸ—ï¸ Cáº¥u trÃºc dá»± Ã¡n

**Root Path:** `d:\baitapcuoiky`

```
â””â”€â”€ ğŸ“ fullstack
    â”œâ”€â”€ ğŸ“ .local
    â”‚   â””â”€â”€ ğŸ“ state
    â”‚       â””â”€â”€ ğŸ“ replit
    â”‚           â””â”€â”€ ğŸ“ agent
    â”‚               â”œâ”€â”€ âš™ï¸ .agent_state_0d679634a6b1adac0df9b45b6d3b2c9dbed86e2f.bin
    â”‚               â”œâ”€â”€ âš™ï¸ .agent_state_352005164862c10675240e8e12ea6abef594e543.bin
    â”‚               â”œâ”€â”€ âš™ï¸ .agent_state_5824295faf1d89009bdedc6e6b2a7c444c5b930a.bin
    â”‚               â”œâ”€â”€ âš™ï¸ .agent_state_bd0421fbf8e37c41afcff2d25b48299623fc0a3e.bin
    â”‚               â”œâ”€â”€ âš™ï¸ .agent_state_main.bin
    â”‚               â”œâ”€â”€ âš™ï¸ .latest.json
    â”‚               â””â”€â”€ âš™ï¸ repl_state.bin
    â”œâ”€â”€ ğŸ“ Controllers
    â”‚   â”œâ”€â”€ ğŸ˜ AuthController.php
    â”‚   â”œâ”€â”€ ğŸ˜ CommentController.php
    â”‚   â”œâ”€â”€ ğŸ˜ FavoriteController.php
    â”‚   â”œâ”€â”€ ğŸ˜ ImageController.php
    â”‚   â”œâ”€â”€ ğŸ˜ NotificationController.php
    â”‚   â””â”€â”€ ğŸ˜ PostController.php
    â”œâ”€â”€ ğŸ“ Models
    â”‚   â”œâ”€â”€ ğŸ˜ Category.php
    â”‚   â”œâ”€â”€ ğŸ˜ Comment.php
    â”‚   â”œâ”€â”€ ğŸ˜ Favorite.php
    â”‚   â”œâ”€â”€ ğŸ˜ Notification.php
    â”‚   â”œâ”€â”€ ğŸ˜ Post.php
    â”‚   â”œâ”€â”€ ğŸ˜ PostImage.php
    â”‚   â””â”€â”€ ğŸ˜ User.php
    â”œâ”€â”€ ğŸ“ Views
    â”‚   â”œâ”€â”€ ğŸ“ admin
    â”‚   â”‚   â”œâ”€â”€ ğŸ˜ dashboard.php
    â”‚   â”‚   â”œâ”€â”€ ğŸ˜ posts.php
    â”‚   â”‚   â”œâ”€â”€ ğŸ˜ reports.php
    â”‚   â”‚   â”œâ”€â”€ ğŸ˜ settings.php
    â”‚   â”‚   â””â”€â”€ ğŸ˜ users.php
    â”‚   â”œâ”€â”€ ğŸ“ auth
    â”‚   â”‚   â”œâ”€â”€ ğŸ˜ login.php
    â”‚   â”‚   â””â”€â”€ ğŸ˜ register.php
    â”‚   â”œâ”€â”€ ğŸ“ chat
    â”‚   â”‚   â”œâ”€â”€ ğŸ˜ chat-list.php
    â”‚   â”‚   â””â”€â”€ ğŸ˜ chat.php
    â”‚   â”œâ”€â”€ ğŸ“ home
    â”‚   â”‚   â””â”€â”€ ğŸ˜ home.php
    â”‚   â”œâ”€â”€ ğŸ“ posts
    â”‚   â”‚   â”œâ”€â”€ ğŸ˜ create.php
    â”‚   â”‚   â”œâ”€â”€ ğŸ˜ detail.php
    â”‚   â”‚   â””â”€â”€ ğŸ˜ list.php
    â”‚   â””â”€â”€ ğŸ“ user
    â”‚       â”œâ”€â”€ ğŸ˜ favorites.php
    â”‚       â”œâ”€â”€ ğŸ˜ my-posts.php
    â”‚       â”œâ”€â”€ ğŸ˜ notifications.php
    â”‚       â””â”€â”€ ğŸ˜ profile.php
    â”œâ”€â”€ ğŸ“ api
    â”‚   â”œâ”€â”€ ğŸ˜ comments.php
    â”‚   â””â”€â”€ ğŸ˜ upload-image.php
    â”œâ”€â”€ ğŸ“ assets
    â”‚   â”œâ”€â”€ ğŸ“ css
    â”‚   â”‚   â””â”€â”€ ğŸ¨ style.css
    â”‚   â””â”€â”€ ğŸ“ js
    â”‚       â””â”€â”€ ğŸ“„ main.js
    â”œâ”€â”€ ğŸ“ attached_assets
    â”‚   â””â”€â”€ ğŸ˜ database_1762788624742.php
    â”œâ”€â”€ ğŸ“ uploads
    â”‚   â”œâ”€â”€ âš™ï¸ .gitignore
    â”‚   â”œâ”€â”€ ğŸ–¼ï¸ post_11_1764662359_692e9c5706be2.png
    â”‚   â”œâ”€â”€ ğŸ–¼ï¸ post_11_1764662551_692e9d17f2dee.png
    â”‚   â”œâ”€â”€ ğŸ–¼ï¸ post_11_1764662552_692e9d1812735.png
    â”‚   â”œâ”€â”€ ğŸ–¼ï¸ post_12_1764662852_692e9e446c73e.png
    â”‚   â”œâ”€â”€ ğŸ–¼ï¸ post_12_1764662852_692e9e4471968.png
    â”‚   â”œâ”€â”€ ğŸ–¼ï¸ post_13_1764690362_692f09baafee4.png
    â”‚   â””â”€â”€ ğŸ–¼ï¸ post_13_1764690362_692f09bab9697.png
    â”œâ”€â”€ âš™ï¸ .htaccess
    â”œâ”€â”€ ğŸ“ README.md
    â”œâ”€â”€ ğŸ˜ config.php
    â”œâ”€â”€ ğŸ“„ database.sql
    â”œâ”€â”€ ğŸ˜ helpers.php
    â””â”€â”€ ğŸ˜ index.php
```

## ğŸš€ HÆ°á»›ng dáº«n cÃ i Ä‘áº·t

### YÃªu cáº§u
- PHP 7.4 trá»Ÿ lÃªn (khuyáº¿n nghá»‹ PHP 8.0+)
- MySQL 5.7 trá»Ÿ lÃªn
- Apache/Nginx web server
- Composer (tÃ¹y chá»n)

### CÃ¡c bÆ°á»›c cÃ i Ä‘áº·t

1. **Clone repository**
   ```bash
   git clone https://github.com/tussstudyit/fullstack.git
   cd fullstack
   ```

2. **Import database**
   ```bash
   mysql -u root -p < database.sql
   # Hoáº·c import thÃ´ng qua phpMyAdmin
   ```

3. **Cáº¥u hÃ¬nh káº¿t ná»‘i database**
   - Má»Ÿ file `config.php`
   - Cáº­p nháº­t thÃ´ng tin káº¿t ná»‘i:
   ```php
   define('DB_HOST', 'localhost');
   define('DB_NAME', 'baitaplon');
   define('DB_USER', 'root');
   define('DB_PASS', '');
   ```

4. **Cáº¥p quyá»n thÆ° má»¥c uploads**
   ```bash
   # Linux/Mac
   chmod 755 uploads/
   chmod 755 uploads/*
   
   # Windows (thÆ°á»ng tá»± Ä‘á»™ng)
   ```

5. **Cháº¡y á»©ng dá»¥ng**
   - Khá»Ÿi Ä‘á»™ng web server: `php -S localhost:8000` hoáº·c Apache
   - Truy cáº­p: `http://localhost:8000` (hoáº·c domain Ä‘Æ°á»£c cáº¥u hÃ¬nh)
   - Login báº±ng tÃ i khoáº£n máº·c Ä‘á»‹nh hoáº·c Ä‘Äƒng kÃ½ tÃ i khoáº£n má»›i

### Troubleshooting

**Lá»—i 404 khi truy cáº­p:**
- Kiá»ƒm tra file `.htaccess` cÃ³ Ä‘Æ°á»£c kÃ­ch hoáº¡t
- Äáº£m báº£o mod_rewrite Ä‘Æ°á»£c enable trÃªn Apache

**Lá»—i káº¿t ná»‘i database:**
- Kiá»ƒm tra MySQL service Ä‘ang cháº¡y
- XÃ¡c nháº­n credentials trong `config.php`
- Kiá»ƒm tra database `baitaplon` Ä‘Ã£ Ä‘Æ°á»£c táº¡o

**Lá»—i upload áº£nh:**
- Kiá»ƒm tra thÆ° má»¥c `uploads/` tá»“n táº¡i
- XÃ¡c nháº­n quyá»n ghi file (777 cho dev)

## ğŸ“Š CÆ¡ sá»Ÿ dá»¯ liá»‡u

### CÃ¡c báº£ng chÃ­nh:
- **users**: ThÃ´ng tin ngÆ°á»i dÃ¹ng
- **posts**: BÃ i Ä‘Äƒng phÃ²ng trá»
- **categories**: Danh má»¥c loáº¡i trá»
- **post_images**: HÃ¬nh áº£nh bÃ i Ä‘Äƒng
- **favorites**: Danh sÃ¡ch yÃªu thÃ­ch
- **reviews**: ÄÃ¡nh giÃ¡ phÃ²ng trá»
- **conversations**: Cuá»™c há»™i thoáº¡i chat
- **messages**: Tin nháº¯n
- **notifications**: ThÃ´ng bÃ¡o

## ğŸ¨ Giao diá»‡n

### Trang ngÆ°á»i dÃ¹ng
- `Views/auth/login.html` - ÄÄƒng nháº­p
- `Views/auth/register.html` - ÄÄƒng kÃ½ (cÃ³ phÃ¢n quyá»n)
- `Views/home/index.html` - Trang chá»§
- `Views/posts/list.html` - Danh sÃ¡ch bÃ i Ä‘Äƒng
- `Views/posts/detail.html` - Chi tiáº¿t bÃ i Ä‘Äƒng
- `Views/posts/create.html` - ÄÄƒng tin (cÃ³ upload vÃ  preview hÃ¬nh áº£nh)
- `Views/user/my-posts.html` - Quáº£n lÃ½ tin Ä‘Äƒng
- `Views/user/favorites.html` - Danh sÃ¡ch yÃªu thÃ­ch
- `Views/chat/index.html` - Giao diá»‡n chat realtime

### Trang Admin
- `Views/admin/dashboard.html` - Dashboard tá»•ng quan
- `Views/admin/posts.html` - Quáº£n lÃ½ bÃ i Ä‘Äƒng
- `Views/admin/users.html` - Quáº£n lÃ½ ngÆ°á»i dÃ¹ng

## ğŸ” TÃ i khoáº£n máº·c Ä‘á»‹nh

Sau khi import database, cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c tÃ i khoáº£n máº·c Ä‘á»‹nh:

**Admin:**
- Username: `admin`
- Password: `admin123`
- Vai trÃ²: Quáº£n lÃ½ toÃ n bá»™ há»‡ thá»‘ng

**NgÆ°á»i cho thuÃª (Landlord):**
- Username: `landlord1`
- Password: `123456`
- Vai trÃ²: ÄÄƒng bÃ i, quáº£n lÃ½ phÃ²ng trá»

**NgÆ°á»i thuÃª (Tenant):**
- Username: `tenant1`
- Password: `123456`
- Vai trÃ²: TÃ¬m kiáº¿m, bÃ¬nh luáº­n, yÃªu thÃ­ch

> CÃ³ thá»ƒ táº¡o tÃ i khoáº£n má»›i thÃ´ng qua trang Ä‘Äƒng kÃ½

## ğŸ“ TÃ­ch há»£p PHP

âœ… **Dá»± Ã¡n hiá»‡n Ä‘Ã£ Ä‘Æ°á»£c tÃ­ch há»£p PHP hoÃ n toÃ n**

### Cáº¥u trÃºc MVC
- **Models**: Xá»­ lÃ½ dá»¯ liá»‡u tá»« database
  - User.php - Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
  - Post.php - Quáº£n lÃ½ bÃ i Ä‘Äƒng
  - PostImage.php - Quáº£n lÃ½ áº£nh bÃ i Ä‘Äƒng
  - Comment.php - Quáº£n lÃ½ bÃ¬nh luáº­n & pháº£n há»“i lá»“ng nhau
  - Favorite.php - Quáº£n lÃ½ danh sÃ¡ch yÃªu thÃ­ch
  - Notification.php - Quáº£n lÃ½ thÃ´ng bÃ¡o
  - Category.php - Quáº£n lÃ½ danh má»¥c

- **Controllers**: Xá»­ lÃ½ logic nghiá»‡p vá»¥
  - AuthController.php - ÄÄƒng nháº­p, Ä‘Äƒng kÃ½
  - PostController.php - CRUD bÃ i Ä‘Äƒng
  - CommentController.php - BÃ¬nh luáº­n, pháº£n há»“i, voting
  - FavoriteController.php - Quáº£n lÃ½ yÃªu thÃ­ch
  - ImageController.php - Xá»­ lÃ½ upload áº£nh
  - NotificationController.php - Xá»­ lÃ½ thÃ´ng bÃ¡o

- **Views**: Giao diá»‡n ngÆ°á»i dÃ¹ng
  - auth/ - ÄÄƒng nháº­p, Ä‘Äƒng kÃ½
  - home/ - Trang chá»§
  - posts/ - Danh sÃ¡ch, chi tiáº¿t, táº¡o bÃ i Ä‘Äƒng
  - user/ - Há»“ sÆ¡, bÃ i Ä‘Äƒng cá»§a tÃ´i, yÃªu thÃ­ch, thÃ´ng bÃ¡o
  - admin/ - Dashboard, quáº£n lÃ½ bÃ i Ä‘Äƒng, ngÆ°á»i dÃ¹ng
  - chat/ - Giao diá»‡n chat (Ä‘ang phÃ¡t triá»ƒn)

### API Endpoints
- **POST** `/api/comments.php` - ThÃªm bÃ¬nh luáº­n/pháº£n há»“i
  - `action=add_comment` - BÃ¬nh luáº­n trÃªn bÃ i Ä‘Äƒng
  - `action=add_reply` - Pháº£n há»“i bÃ¬nh luáº­n (vá»›i parent_id)
  - `action=vote` - BÃ¬nh chá»n bÃ¬nh luáº­n
  - `action=delete` - XÃ³a bÃ¬nh luáº­n

- **POST** `/api/upload-image.php` - Upload áº£nh bÃ i Ä‘Äƒng

### TÃ­nh nÄƒng Backend
- PDO Database Connection (config.php)
- Session-based Authentication
- Role-based Access Control (RBAC)
- File Upload with Validation
- Error Handling & Logging
- Data Sanitization & Validation

## ğŸ”§ CÃ´ng nghá»‡ sá»­ dá»¥ng

- **Frontend**: HTML5, CSS3, JavaScript (Vanilla)
- **Backend**: PHP (cáº§n tÃ­ch há»£p)
- **Database**: MySQL
- **Icons**: Font Awesome 6.4
- **Styling**: Custom CSS vá»›i CSS Variables

## ğŸ“± Responsive Design

Giao diá»‡n Ä‘Æ°á»£c thiáº¿t káº¿ responsive, tÆ°Æ¡ng thÃ­ch vá»›i:
- Desktop (1200px+)
- Tablet (768px - 1024px)
- Mobile (< 768px)

## ğŸ¤ Há»— trá»£

Náº¿u gáº·p váº¥n Ä‘á» hoáº·c cáº§n tÃ­nh nÄƒng má»›i:
1. Kiá»ƒm tra pháº§n Troubleshooting á»Ÿ trÃªn
2. Xem console.log trong trÃ¬nh duyá»‡t (F12)
3. Kiá»ƒm tra error logs cá»§a PHP/MySQL
4. LiÃªn há»‡ qua GitHub Issues

## ğŸ“§ LiÃªn há»‡ & ÄÃ³ng gÃ³p

- **Repository**: https://github.com/tussstudyit/fullstack
- **Author**: tussstudyit
- **License**: MIT (cho má»¥c Ä‘Ã­ch há»c táº­p)

---

**LÆ°u Ã½**: ÄÃ¢y lÃ  dá»± Ã¡n Ä‘Æ°á»£c phÃ¡t triá»ƒn báº±ng PHP thuáº§n (khÃ´ng dÃ¹ng framework). MÃ£ nguá»“n sáº¡ch, dá»… hiá»ƒu vÃ  phÃ¹ há»£p cho há»c táº­p.
